# 数组

## 判断数组

```js
// 1. isArray
const arr = [1, 2, 3]
console.log(Array.isArray(arr)) // true

// 2. instanceof
console.log(arr instanceof Array) // true

// 3. constructor
console.log(arr.constructor === Array) // true

// 4. Object.prototype.toString.call()
console.log(Object.prototype.toString.call(arr).indexOf('Array') !== -1) // true

// 5. Array.prototype.isPrototypeOf()
console.log(Array.prototype.isPrototypeOf(arr)) // true
```

## slice和splice

`slice`和`splice`都是数组的方法，但是它们的作用不同。

- `slice`：返回一个新的数组，包含从开始到结束（不包括结束）的元素，原数组不会被修改。

```js
const arr = [1, 2, 3, 4, 5]
const newArr = arr.slice(1, 3)
console.log(newArr) // [2, 3]
console.log(arr) // [1, 2, 3, 4, 5]
```

- `splice`：从数组中添加或删除元素，返回被删除的元素，原数组会被修改。

```js
const arr = [1, 2, 3, 4, 5]
const newArr = arr.splice(1, 3)
console.log(newArr) // [2, 3, 4]
console.log(arr) // [1, 5]
```

## 数组去重

### 1. Set

```js
const arr = [1, 2, 3, 4, 5, 1, 2, 3]
const newArr = [...new Set(arr)]
console.log(newArr) // [1, 2, 3, 4, 5]
```

### 2. filter

```js
const arr = [1, 2, 3, 4, 5, 1, 2, 3]
const newArr = arr.filter((item, index) => arr.indexOf(item) === index)
console.log(newArr) // [1, 2, 3, 4, 5]
```

### 3. reduce

```js
const arr = [1, 2, 3, 4, 5, 1, 2, 3]
const newArr = arr.reduce((prev, cur) => prev.includes(cur) ? prev : [...prev, cur], [])
console.log(newArr) // [1, 2, 3, 4, 5]
```

## 数组扁平化

### 1. flat

```js
const arr = [1, [2, 3], [4, [5, 6]]]
const newArr = arr.flat(Infinity)
console.log(newArr) // [1, 2, 3, 4, 5, 6]
```

### 2. reduce

```js
const arr = [1, [2, 3], [4, [5, 6]]]
const flatten = arr => arr.reduce((prev, cur) => prev.concat(Array.isArray(cur) ? flatten(cur) : cur), [])
const newArr = flatten(arr)
console.log(newArr) // [1, 2, 3, 4, 5, 6]
```

## 数组乱序
  
  ```js
  const arr = [1, 2, 3, 4, 5]
  const newArr = arr.sort(() => Math.random() - 0.5)
  console.log(newArr)
  ```

  
