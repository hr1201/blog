# 异步

异步任务：

1.宏任务
script(整体代码)、setTimeout、setInterval、UI交互事件、postMessage、Ajax

2.微任务
Promise.then catch finally、MutaionObserver、process.nextTick(Node.js 环境)

执行时，先执行同步任务，再执行异步任务；异步任务中先执行宏任务，再执行微任务。

分析以下代码，判断其输出顺序：
```js
async function Prom() {
    // 1.1 同步任务
    console.log('Y')
    // 暂停
    await Promise.resolve()
    // 4. 微任务队列清空后，Prom 函数中的 await 暂停结束，继续执行该函数
    console.log('X')
}

// 5. 两个setTimeout宏任务，等待当前执行栈清空并且定时器延迟结束后才会执行
setTimeout(() => {
    console.log(1)
    Promise.resolve().then(() => {
        console.log(2)
    })
}, 0)
setTimeout(() => {
    console.log(3)
    Promise.resolve().then(() => {
        console.log(4)
    })
}, 0)

// 3. 四个Promise.then微任务，同步任务结束会立即执行此微任务
Promise.resolve().then(() => {
    console.log(5)
})
Promise.resolve().then(() => {
    console.log(6)
})
Promise.resolve().then(() => {
    console.log(7)
})
Promise.resolve().then(() => {
    console.log(8)
})

// 1. 调用Prom()函数
Prom()
// 2. 同步任务
console.log(0)
```

执行顺序为Y 0 5 6 7 8 X 1 2 3 4。