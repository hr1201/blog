# æ³›å‹


## ç®€ä»‹

æ³›å‹æ˜¯ä¸€ç§ç”¨äºå®šä¹‰æ³›å‹æ•°æ®ç±»å‹çš„æœºåˆ¶ã€‚



æ³›å‹å…è®¸åˆ›å»ºé€šç”¨çš„å‡½æ•°å’Œç±»,è¿™äº›å‡½æ•°å’Œç±»å¯ä»¥å¤„ç†ä¸åŒç±»å‹çš„æ•°æ®ã€‚ç®€å•æ¥è¯´å°±æ˜¯:

- å¯ä»¥å®šä¹‰ä¸€ä¸ªå‡½æ•°æˆ–ç±»,å‚æ•°ä½¿ç”¨**å¯¹è±¡ç±»å‹**ï¼Œä½†åœ¨è°ƒç”¨å‡½æ•°æ—¶ä¼ å…¥å…·ä½“ç±»å‹ã€‚
- æ³›å‹æä¾›äº†ä¸€ç§æ–¹æ³•æ¥è¡¨ç¤ºå‡½æ•°æˆ–ç±»ä¸­çš„ç±»å‹ï¼Œä½†æ˜¯**è¿˜æ²¡æœ‰å®é™…æŒ‡å®š**è¿™ä¸ªç±»å‹ã€‚
- åœ¨**è°ƒç”¨**å®ƒçš„æ—¶å€™ï¼Œå¯ä»¥æŒ‡å®šå…·ä½“ç±»å‹çš„å‚æ•°ã€‚



## ç¤ºä¾‹

```typescript
// åŠ¨æ€ç±»å‹
// function rarrot(a:number,b:number):Array<number>{
//     return [a,b]
// }

// function rarrots(a:string,b:string):Array<string>{
//     return [a,b]
// }

// å¯¹äºä»¥ä¸Šé‡å¤ä»£ç å¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ³›å‹å³å¯
function rarrot<T>(a: T, b: T): Array<T> {
    return [a, b]
}

rarrot(1, 2)
rarrot('1', '2')

// å°†ç±»å‹è®¾ç½®ä¸ºTï¼Œå³å¯åŠ¨æ€è®¾ç½®ç±»å‹
type A<T> = string | number | T

let a: A<null> = null

// æ¥å£æ³›å‹
interface Data<T> {
    msg: T
}

let data: Data<string> = {
    msg: 'ä»Šå¤©ä½ å¼€å¿ƒå—'
}

// å¯ä»¥å®šä¹‰ä¸¤ä¸ªæ³›å‹ï¼Œå¯ä»¥æå‰æä¾›ç±»å‹ï¼Œåé¢æ›´æ”¹ä¼šè‡ªåŠ¨æ¨æ–­ç±»å‹ï¼Œå¦‚ä¸‹
function add<T = number, K = number>(a: T, b: K): Array<T | K> {
    return [a, b]
}

// ç¼–è¯‘å™¨ä¼šè‡ªåŠ¨æ¨æ–­ç±»å‹
add(1, '1')
```





## æ¨¡æ‹Ÿaxioså‘é€è¯·æ±‚

```typescript
const axios = {
    // getæ–¹æ³•æ”¯æŒæ³›å‹ï¼Œæ¥å—ä¸€ä¸ªURL
    get<T>(url: string):Promise<T> {
        // Promiseæ¥æ”¶ä¸¤ä¸ªå‚æ•°
        return new Promise((resolve, reject) => {
            // åˆ©ç”¨XMLHttpRequestè¿›è¡Œè°ƒæ¥å£
            let xhr: XMLHttpRequest = new XMLHttpRequest()
            xhr.open('GET', url)//å¯¹è¯·æ±‚çš„urlè¿›è¡Œè·å–
            // ç›‘å¬çŠ¶æ€å˜åŒ–ï¼Œæœ‰äº”ä¸ªçŠ¶æ€ç :0,1,2,3,4ï¼Œåˆ°4æ—¶å³ä¸ºæˆåŠŸ
            xhr.onreadystatechange = () => {
                if (xhr.readyState == 4 && xhr.status == 200) {
                    // xhr.responseTextè¿”å›ä¸ºä¸€ä¸ªå­—ç¬¦ä¸²
                    // éœ€è¦é€šè¿‡JSON.parseè½¬æ¢æˆä¸€ä¸ªå¯¹è±¡ï¼Œæ‰ä½¿ç”¨resolveè¿›è¡Œè¿”å›
                    resolve(JSON.parse(xhr.responseText))
                }
            }
            // æ²¡æœ‰ä¸œè¥¿è¿›è¡Œå‘é€ï¼Œä½†ä¸€å®šè¦å†™ï¼Œå¦åˆ™ä¸ºæ— æ•ˆçš„è¯·æ±‚
            xhr.send(null)
        })
    }
}

interface Data{
    message:string 
    code:number
}

axios.get<Data>('data.json').then(res=>{
    console.log(res)
})
```



```html
<!DOCTYPE html>
<html lang="en">
<head>
Â  Â  <meta charset="UTF-8">
Â  Â  <meta name="viewport" content="width=device-width, initial-scale=1.0">
Â  Â  <title>Document</title>
</head>
<body>
Â  Â  <script src="index.js"></script>
</body>
</html>
```



```json
{
Â  Â  "message":"æˆåŠŸ",
Â  Â  "code":200
}
```

![](https://cdn.jsdelivr.net/gh/hr1201/img@main/imgs/202307261824424.png)



## æ³›å‹çº¦æŸ

æ³›å‹çº¦æŸä¸ºåªèƒ½ä¸ºnumberç±»å‹ï¼š

```typescript
// åœ¨ç±»å‹åé¢åŠ ä¸Šextendsï¼Œåå†å†™ä¸€ä¸ªçº¦æŸçš„ç±»å‹
function add<T extends number>(a:T,b:T){
Â  Â  return a + b
}
add(1,2)
```



ä½¿ç”¨æ¥å£å»å®šä¹‰çº¦æŸç±»å‹ï¼Œä»¥ä¸‹ä»£ç ä¸­**åªæœ‰å«æœ‰lengthå±æ€§**æ‰å¯ä»¥ä¼ å…¥fnå‡½æ•°ä¸­ï¼š

```typescript
interface Len{
    length:number
}

function fn<T extends Len>(a:T){
    a.length
    console.log("ğŸš€ ~ file: index.ts:14 ~ a.length:", a.length)
}
fn('123456')//ğŸš€ ~ file: index.ts:14 ~ a.length: 6
fn([1,2,3])//ğŸš€ ~ file: index.ts:14 ~ a.length: 3

let le={
    length:5
}
fn(le)//ğŸš€ ~ file: index.ts:14 ~ a.length: 5
```



ä½¿ç”¨keyofå¯ä»¥å°†çº¦æŸç±»å‹å®šä¹‰ä¸ºå¯¹è±¡çš„å±æ€§ï¼Œä¾‹å¦‚ï¼š

```typescript
let obj={
    name:'rarrot',
    sex:'å¥³'
}

function ob<T extends object,k extends keyof T>(obj:T,key:k){
    return obj[key]
}
// å…ˆä¼ å…¥objç»™Tï¼ŒTçš„çº¦æŸç±»å‹ä¸ºobjectï¼Œä¼ å…¥objæ˜¯æ²¡é—®é¢˜çš„ï¼Œ
// æ­¤æ—¶kçš„çº¦æŸå°±ç›¸å½“äºextends keyof objï¼Œå…¶çº¦æŸç±»å‹ä¸º"name"|"sex"
// è‹¥æ­¤æ—¶ç¬¬äºŒä¸ªä¼ å…¥çš„å‚æ•°ä¸æ˜¯nameæˆ–è€…sexï¼Œåˆ™ä¼šæŠ¥é”™
ob(obj,'name')


// ä½¿ç”¨keyofï¼Œä»¥ä¸‹ç»™å‡ºè§£é‡Šï¼š
// ä¸åŠ keyofæ—¶ï¼Œå…¶ç±»å‹ä¸º:
/*
type key = {
Â  Â  name: string;
Â  Â  sex: string;
}
*/ 
// åŠ keyofåï¼Œå…¶ç±»å‹ä¸º"name"|"sex"
type key =keyof typeof obj
```



å®ç°æ¥å£ä¸ºç±»å‹æ—¶å°†å…¶ä¸­çš„æ‰€æœ‰å±æ€§è®¾ç½®ä¸ºå¯é€‰ï¼Œä¹Ÿå¯ä»¥è®¾ç½®ä¸ºåªè¯»readonlyï¼Œè¿˜æœ‰å…¶ä½™ä¹Ÿå¯ä»¥æ‰©å±•ï¼š

```typescript
interface Data{
Â  Â  name:string
Â  Â  age:number
Â  Â  sex:string
}

// for inè¯­æ³• for(let key in obj)
type Options<T extends object>={
    // Tä¸ºDataï¼Œ
    // T[key]ä¸ºstringï¼Œnumberå’Œstringï¼Œ
    // keyof Tä¸ºnameï¼Œageå’Œsex
    // å¯¹åº”çš„[key in keyof T]å³ä¸º name age sex
    // ä¼šå¾ªç¯å¯¹åº”çš„åŸå› ä¸º[key in ...]æ˜¯ä¸€ä¸ªç±»å‹è¿­ä»£å™¨
Â  Â  [key in keyof T]?:T[key]
    // è®¾ç½®ä¸ºåªè¯»ä¸ºreadonly \[key in keyof T\]:T\[key\]


}

/*
type B = {
Â  Â  name?: string | undefined;
Â  Â  age?: number | undefined;
Â  Â  sex?: string | undefined;
}
*/
type B=Options<Data>
```

